(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{SGa5:function(e,a,t){"use strict";t.r(a);t("T63A"),t("3bBZ"),t("4mDm"),t("07d7");var r=t("q1tI"),n=t.n(r),l=t("Wbzz"),o=t("TbSc"),i=t("aQu0"),s=t("vFsZ"),c=t("3mGJ"),u=t("umxb"),m=t("QetY"),d=t("wtQ5"),p=t("LUOC"),b=t("3wGT"),g=t("Zttt"),h=t("7aZI");a.default=function(e){var a=e.location,t=Object(r.useState)(!1),f=t[0],E=t[1],v=Object(r.useState)([]),y=v[0],S=v[1],O=Object(r.useContext)(b.a).updateToken,j=Object(h.a)((function(){E(!0),Object(p.login)({email:k.email,password:k.password}).then((function(e){var a=e.id,t=e.token;localStorage.setItem("customerToken",t),localStorage.setItem("mcustomer",a),O(),Object(l.navigate)("/myaccount/")})).catch((function(e){E(!1),S(e.errors||e)}))}),w),k=j.values,F=j.handleChange,T=j.handleSubmit,C=j.errors;return n.a.createElement(g.a,{location:a},n.a.createElement(d.a,{title:"Login"}),n.a.createElement(i.a,{as:"h1"},"Log in to your account"),n.a.createElement(s.a,{onSubmit:T,loading:f,error:0!==y.length||0!==Object.entries(C).length},0!==y.length?function(e){return!Array.isArray(e)&&!e.length>0?n.a.createElement(o.a,{error:!0,header:"Sorry",content:"Please check your login details and try again."}):e.map((function(e){return n.a.createElement(o.a,{error:!0,header:e.title,content:e.detail,key:e.status})}))}(C):null,n.a.createElement(c.a,null,n.a.createElement(s.a.Field,null,n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement(u.a,{id:"email",fluid:!0,name:"email",type:"email",autoFocus:!0,onChange:F,value:k.email||""})),C.email&&n.a.createElement("p",{"data-testid":"error",style:{color:"red"}},C.email),n.a.createElement(s.a.Field,null,n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement(u.a,{id:"password",fluid:!0,name:"password",type:"password",value:k.password||"",onChange:F})),C.password&&n.a.createElement("p",{style:{color:"red"}},C.password),n.a.createElement(m.a,{type:"submit",color:"orange"},"Login"))))};var w=function(e){var a={};return e.email?/\S+@\S+\.\S+/.test(e.email)||(a.email="Email address is invalid"):a.email="Email address is required",e.password||(a.password="Password is required"),a}},T63A:function(e,a,t){var r=t("I+eb"),n=t("b1O7").entries;r({target:"Object",stat:!0},{entries:function(e){return n(e)}})},b1O7:function(e,a,t){var r=t("g6v/"),n=t("33Wh"),l=t("/GqU"),o=t("0eef").f,i=function(e){return function(a){for(var t,i=l(a),s=n(i),c=s.length,u=0,m=[];c>u;)t=s[u++],r&&!o.call(i,t)||m.push(e?[t,i[t]]:i[t]);return m}};e.exports={entries:i(!0),values:i(!1)}}}]);
//# sourceMappingURL=component---src-pages-login-js-70b6f2eb9f4ca6879420.js.map