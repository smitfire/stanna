(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{aSaP:function(e,a,t){"use strict";t.r(a);t("3bBZ"),t("4mDm"),t("07d7"),t("sMBO");var r=t("q1tI"),n=t.n(r),l=t("Wbzz"),o=t("TbSc"),m=t("aQu0"),s=t("vFsZ"),i=t("3mGJ"),c=t("umxb"),u=t("QetY"),d=t("wtQ5"),p=t("3wGT"),E=t("LUOC"),w=t("Zttt"),b=t("7aZI");a.default=function(e){var a=e.location,t=Object(r.useState)(!1),g=t[0],f=t[1],v=Object(r.useState)([]),S=v[0],y=v[1],C=Object(r.useContext)(p.a).updateToken,F=Object(b.a)((function(){f(!0),Object(E.register)({name:O.name,email:O.email,password:O.password}).then((function(e){var a=e.id,t=e.token;localStorage.setItem("customerToken",t),localStorage.setItem("mcustomer",a),C(),Object(l.navigate)("/myaccount/")})).catch((function(e){console.log(e),f(!1),y(e.errors||e)}))}),h),O=F.values,j=F.handleChange,k=F.handleSubmit,q=F.errors;return n.a.createElement(w.a,{location:a},n.a.createElement(d.a,{title:"Register"}),n.a.createElement(m.a,{as:"h1"},"Create an account"),n.a.createElement(s.a,{onSubmit:k,loading:g,error:!!q},0!==S.length?function(e){return!Array.isArray(e)&&!e.length>0?n.a.createElement(o.a,{error:!0,header:"Sorry",content:"Cannot register at this time."}):e.map((function(e){return n.a.createElement(o.a,{error:!0,header:e.title,content:e.detail,key:e.status})}))}(q):null,n.a.createElement(i.a,null,n.a.createElement(s.a.Field,null,n.a.createElement("label",{htmlFor:"name"},"Name"),n.a.createElement(c.a,{id:"name",fluid:!0,name:"name",autoFocus:!0,onChange:j,value:O.name||""})),q.name&&n.a.createElement("p",{style:{color:"red"}},q.name),n.a.createElement(s.a.Field,null,n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement(c.a,{id:"email",fluid:!0,name:"email",type:"email",onChange:j,value:O.email||""})),q.email&&n.a.createElement("p",{style:{color:"red"}},q.email),n.a.createElement(s.a.Field,null,n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement(c.a,{id:"password",fluid:!0,name:"password",type:"password",onChange:j,value:O.password||""})),q.password&&n.a.createElement("p",{style:{color:"red"}},q.password),n.a.createElement(u.a,{type:"submit",color:"orange"},"Register"))))};var h=function(e){var a={};return e.email?/\S+@\S+\.\S+/.test(e.email)||(a.email="Email address is invalid"):a.email="Email address is required",e.password||(a.password="Password is required"),e.name||(a.name="A name is required"),a}}}]);
//# sourceMappingURL=component---src-pages-register-js-a4dad031d53aec5fff18.js.map